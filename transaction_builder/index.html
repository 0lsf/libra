<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `transaction_builder` crate."><meta name="keywords" content="rust, rustlang, rust-lang, transaction_builder"><title>transaction_builder - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../transaction_builder/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Crate transaction_builder</p><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all transaction_builder's items</p></a><div class="block items"><ul><li><a href="#functions">Functions</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'transaction_builder', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/transaction_builder/lib.rs.html#4-78' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>transaction_builder</a></span></h1><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.encode_add_currency_to_account_script.html" title='transaction_builder::encode_add_currency_to_account_script fn'>encode_add_currency_to_account_script</a></td><td class='docblock-short'><p>Add the currency identified by the type <code>currency</code> to the sending accounts. Aborts if
the account already holds a balance fo <code>currency</code> type.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_add_recovery_rotation_capability_script.html" title='transaction_builder::encode_add_recovery_rotation_capability_script fn'>encode_add_recovery_rotation_capability_script</a></td><td class='docblock-short'><p>Add the <code>KeyRotationCapability</code> for <code>to_recover_account</code> to the <code>RecoveryAddress</code>
resource under <code>recovery_address</code>. Aborts if <code>to_recovery_account</code> and
<code>to_recovery_address belong to different VASPs, if </code>recovery_address<code>does not have a</code>RecoveryAddress<code>resource, or if</code>to_recover_account<code>has already extracted its</code>KeyRotationCapability`.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_add_validator_script.html" title='transaction_builder::encode_add_validator_script fn'>encode_add_validator_script</a></td><td class='docblock-short'><p>Add <code>new_validator</code> to the pending validator set. Fails if the <code>new_validator</code> address
is already in the validator set or does not have a <code>ValidatorConfig</code> resource stored
at the address.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_block_prologue_script.html" title='transaction_builder::encode_block_prologue_script fn'>encode_block_prologue_script</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_burn_script.html" title='transaction_builder::encode_burn_script fn'>encode_burn_script</a></td><td class='docblock-short'><p>Permanently destroy the <code>Token</code>s stored in the oldest burn request under the <code>Preburn</code>
resource. This will only succeed if <code>account</code> has a <code>MintCapability&lt;Token&gt;</code>, a
<code>Preburn&lt;Token&gt;</code> resource exists under <code>preburn_address</code>, and there is a pending burn
request. sliding_nonce is a unique nonce for operation, see sliding_nonce.move for
details</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_burn_txn_fees_script.html" title='transaction_builder::encode_burn_txn_fees_script fn'>encode_burn_txn_fees_script</a></td><td class='docblock-short'><p>Burn transaction fees that have been collected in the given <code>currency</code> and relinquish
to the association. The currency must be non-synthetic.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_cancel_burn_script.html" title='transaction_builder::encode_cancel_burn_script fn'>encode_cancel_burn_script</a></td><td class='docblock-short'><p>Cancel the oldest burn request from <code>preburn_address</code> and return the funds. Fails if
the sender does not have a published <code>BurnCapability&lt;Token&gt;</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_create_child_vasp_account_script.html" title='transaction_builder::encode_create_child_vasp_account_script fn'>encode_create_child_vasp_account_script</a></td><td class='docblock-short'><p>Create a <code>ChildVASP</code> account for sender <code>parent_vasp</code> at <code>child_address</code> with a
balance of <code>child_initial_balance</code> in <code>CoinType</code> and an initial authentication_key
<code>auth_key_prefix | child_address</code>. If <code>add_all_currencies</code> is true, the child address
will have a zero balance in all available currencies in the system. This account will
a child of the transaction sender, which must be a ParentVASP.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_create_designated_dealer_script.html" title='transaction_builder::encode_create_designated_dealer_script fn'>encode_create_designated_dealer_script</a></td><td class='docblock-short'><p>Create designated dealer account at 'new_account_address' and 'auth_key_prefix' for
nonsynthetic CoinType. Create dealer and preburn resource.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_create_parent_vasp_account_script.html" title='transaction_builder::encode_create_parent_vasp_account_script fn'>encode_create_parent_vasp_account_script</a></td><td class='docblock-short'><p>Create an account with the ParentVASP role at <code>address</code> with authentication key
<code>auth_key_prefix</code> | <code>new_account_address</code> and a 0 balance of type <code>currency</code>. If
<code>add_all_currencies</code> is true, 0 balances for all available currencies in the system
will also be added. This can only be invoked by an Association account.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_create_recovery_address_script.html" title='transaction_builder::encode_create_recovery_address_script fn'>encode_create_recovery_address_script</a></td><td class='docblock-short'><p>Extract the <code>KeyRotationCapability</code> for <code>recovery_account</code> and publish it in a
<code>RecoveryAddress</code> resource under <code>recovery_account</code>. Aborts if <code>recovery_account</code> has
delegated its <code>KeyRotationCapability</code>, already has a <code>RecoveryAddress</code> resource, or is
not a VASP.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_create_testing_account_script.html" title='transaction_builder::encode_create_testing_account_script fn'>encode_create_testing_account_script</a></td><td class='docblock-short'><p>Create an account with the ParentVASP role at <code>address</code> with authentication key
<code>auth_key_prefix</code> | <code>new_account_address</code> and a 0 balance of type <code>currency</code>. If
<code>add_all_currencies</code> is true, 0 balances for all available currencies in the system
will also be added. This can only be invoked by an Association account. The
<code>human_name</code>, <code>base_url</code>, and compliance_public_key` fields of the ParentVASP are
filled in with dummy information.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_create_validator_account_script.html" title='transaction_builder::encode_create_validator_account_script fn'>encode_create_validator_account_script</a></td><td class='docblock-short'><p>Create a validator account at <code>new_validator_address</code> with <code>auth_key_prefix</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_create_validator_operator_account_script.html" title='transaction_builder::encode_create_validator_operator_account_script fn'>encode_create_validator_operator_account_script</a></td><td class='docblock-short'><p>Create a validator operator account at <code>new_validator_address</code> with <code>auth_key_prefix</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_freeze_account_script.html" title='transaction_builder::encode_freeze_account_script fn'>encode_freeze_account_script</a></td><td class='docblock-short'><p>Freeze account <code>address</code>. Initiator must be authorized. <code>sliding_nonce</code> is a unique
nonce for operation, see sliding_nonce.move for details.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_mint_lbr_script.html" title='transaction_builder::encode_mint_lbr_script fn'>encode_mint_lbr_script</a></td><td class='docblock-short'><p>Mint <code>amount_lbr</code> LBR from the sending account's constituent coins and deposits the
resulting LBR into the sending account.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_modify_publishing_option_script.html" title='transaction_builder::encode_modify_publishing_option_script fn'>encode_modify_publishing_option_script</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_peer_to_peer_with_metadata_script.html" title='transaction_builder::encode_peer_to_peer_with_metadata_script fn'>encode_peer_to_peer_with_metadata_script</a></td><td class='docblock-short'><p>Transfer <code>amount</code> coins to <code>recipient_address</code> with (optional) associated metadata
<code>metadata</code> and (optional) <code>signature</code> on the metadata, amount, and sender address. The
<code>metadata</code> and <code>signature</code> parameters are only required if <code>amount</code> &gt;= 1_000_000 micro
LBR and the sender and recipient of the funds are two distinct VASPs. Fails if there
is no account at the recipient address or if the sender's balance is lower than
<code>amount</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_preburn_script.html" title='transaction_builder::encode_preburn_script fn'>encode_preburn_script</a></td><td class='docblock-short'><p>Preburn <code>amount</code> <code>Token</code>s from <code>account</code>. This will only succeed if <code>account</code> already
has a published <code>Preburn&lt;Token&gt;</code> resource.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_publish_shared_ed25519_public_key_script.html" title='transaction_builder::encode_publish_shared_ed25519_public_key_script fn'>encode_publish_shared_ed25519_public_key_script</a></td><td class='docblock-short'><p>(1) Rotate the authentication key of the sender to <code>public_key</code> (2) Publish a resource
containing a 32-byte ed25519 public key and the rotation capability of the sender
under the sender's address. Aborts if the sender already has a
<code>SharedEd25519PublicKey</code> resource. Aborts if the length of <code>new_public_key</code> is not 32.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_reconfigure_script.html" title='transaction_builder::encode_reconfigure_script fn'>encode_reconfigure_script</a></td><td class='docblock-short'><p>Update configs of all the validators and emit reconfiguration event.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_remove_validator_script.html" title='transaction_builder::encode_remove_validator_script fn'>encode_remove_validator_script</a></td><td class='docblock-short'><p>Adding <code>to_remove</code> to the set of pending validator removals. Fails if the <code>to_remove</code>
address is already in the validator set or already in the pending removals. Callable
by Validator's operator.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_rotate_authentication_key_script.html" title='transaction_builder::encode_rotate_authentication_key_script fn'>encode_rotate_authentication_key_script</a></td><td class='docblock-short'><p>Rotate the sender's authentication key to <code>new_key</code>. <code>new_key</code> should be a 256 bit
sha3 hash of an ed25519 public key.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_rotate_authentication_key_with_nonce_script.html" title='transaction_builder::encode_rotate_authentication_key_with_nonce_script fn'>encode_rotate_authentication_key_with_nonce_script</a></td><td class='docblock-short'><p>Rotate the sender's authentication key to <code>new_key</code>. <code>new_key</code> should be a 256 bit
sha3 hash of an ed25519 public key. This script also takes <code>sliding_nonce</code>, as a
unique nonce for this operation. See sliding_nonce.move for details.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_rotate_authentication_key_with_recovery_address_script.html" title='transaction_builder::encode_rotate_authentication_key_with_recovery_address_script fn'>encode_rotate_authentication_key_with_recovery_address_script</a></td><td class='docblock-short'><p>Rotate the authentication key of <code>to_recover</code> to <code>new_key</code>. Can be invoked by either
<code>recovery_address</code> or <code>to_recover</code>. Aborts if <code>recovery_address</code> does not have the
<code>KeyRotationCapability</code> for <code>to_recover</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_rotate_base_url_script.html" title='transaction_builder::encode_rotate_base_url_script fn'>encode_rotate_base_url_script</a></td><td class='docblock-short'><p>Rotate <code>vasp_root_addr</code>'s base URL to <code>new_url</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_rotate_compliance_public_key_script.html" title='transaction_builder::encode_rotate_compliance_public_key_script fn'>encode_rotate_compliance_public_key_script</a></td><td class='docblock-short'><p>Encode a program that rotates <code>vasp_root_addr</code>'s compliance public key to <code>new_key</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_rotate_shared_ed25519_public_key_script.html" title='transaction_builder::encode_rotate_shared_ed25519_public_key_script fn'>encode_rotate_shared_ed25519_public_key_script</a></td><td class='docblock-short'><p>(1) Rotate the public key stored in <code>account</code>'s <code>SharedEd25519PublicKey</code> resource to
<code>new_public_key</code> (2) Rotate the authentication key using the capability stored in
<code>account</code>'s <code>SharedEd25519PublicKey</code> to a new value derived from <code>new_public_key</code>
Aborts if <code>account</code> does not have a <code>SharedEd25519PublicKey</code> resource. Aborts if the
length of <code>new_public_key</code> is not 32.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_set_validator_config_script.html" title='transaction_builder::encode_set_validator_config_script fn'>encode_set_validator_config_script</a></td><td class='docblock-short'><p>Set validator's config.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_set_validator_operator_script.html" title='transaction_builder::encode_set_validator_operator_script fn'>encode_set_validator_operator_script</a></td><td class='docblock-short'><p>Set validator's operator</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_stdlib_script.html" title='transaction_builder::encode_stdlib_script fn'>encode_stdlib_script</a></td><td class='docblock-short'><p>Encode <code>stdlib_script</code> with arguments <code>args</code>.
Note: this is not type-safe; the individual type-safe wrappers below should be used when
possible.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_stdlib_upgrade_transaction.html" title='transaction_builder::encode_stdlib_upgrade_transaction fn'>encode_stdlib_upgrade_transaction</a></td><td class='docblock-short'><p>Update WriteSet</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_testnet_mint_script.html" title='transaction_builder::encode_testnet_mint_script fn'>encode_testnet_mint_script</a></td><td class='docblock-short'><p>Send <code>amount</code> coins of type <code>Token</code> to <code>payee</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_tiered_mint_script.html" title='transaction_builder::encode_tiered_mint_script fn'>encode_tiered_mint_script</a></td><td class='docblock-short'><p>Mint 'mint_amount' to 'designated_dealer_address' for 'tier_index' tier. Max valid
tier index is 3 since there are max 4 tiers per DD. Sender should be treasury
compliance account and receiver authorized DD. <code>sliding_nonce</code> is a unique nonce for
operation, see sliding_nonce.move for details.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_transfer_with_metadata_script.html" title='transaction_builder::encode_transfer_with_metadata_script fn'>encode_transfer_with_metadata_script</a></td><td class='docblock-short'><p>Transfer <code>amount</code> coins to <code>recipient_address</code> with (optional) associated metadata
<code>metadata</code> and (optional) <code>signature</code> on the metadata, amount, and sender address. The
<code>metadata</code> and <code>signature</code> parameters are only required if <code>amount</code> &gt;= 1_000_000 micro
LBR and the sender and recipient of the funds are two distinct VASPs. Fails if there
is no account at the recipient address or if the sender's balance is lower than
<code>amount</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_unfreeze_account_script.html" title='transaction_builder::encode_unfreeze_account_script fn'>encode_unfreeze_account_script</a></td><td class='docblock-short'><p>Unfreeze account <code>address</code>. Initiator must be authorized. <code>sliding_nonce</code> is a unique
nonce for operation, see sliding_nonce.move for details.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_unmint_lbr_script.html" title='transaction_builder::encode_unmint_lbr_script fn'>encode_unmint_lbr_script</a></td><td class='docblock-short'><p>Unmints <code>amount_lbr</code> LBR from the sending account into the constituent coins and
deposits the resulting coins into the sending account.&quot;</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_update_exchange_rate_script.html" title='transaction_builder::encode_update_exchange_rate_script fn'>encode_update_exchange_rate_script</a></td><td class='docblock-short'><p>Update the on-chain exchange rate to LBR for the given <code>currency</code> to be given by
<code>new_exchange_rate_numerator/new_exchange_rate_denominator</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_update_libra_version_script.html" title='transaction_builder::encode_update_libra_version_script fn'>encode_update_libra_version_script</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_update_minting_ability_script.html" title='transaction_builder::encode_update_minting_ability_script fn'>encode_update_minting_ability_script</a></td><td class='docblock-short'><p>Allows--true--or disallows--false--minting of <code>currency</code> based upon <code>allow_minting</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_update_travel_rule_limit_script.html" title='transaction_builder::encode_update_travel_rule_limit_script fn'>encode_update_travel_rule_limit_script</a></td><td class='docblock-short'><p>Update the travel rule limit to <code>new_micro_lbr_limit</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.encode_update_unhosted_wallet_limits_script.html" title='transaction_builder::encode_update_unhosted_wallet_limits_script fn'>encode_update_unhosted_wallet_limits_script</a></td><td class='docblock-short'><p>Optionally update global thresholds of max balance, total flow (inflow + outflow)
(microLBR) for <code>LimitsDefinition</code> bound accounts. If a new threshold is 0, that
particular config does not get updated. <code>sliding_nonce</code> is a unique nonce for
operation, see sliding_nonce.move for details.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.get_transaction_name.html" title='transaction_builder::get_transaction_name fn'>get_transaction_name</a></td><td class='docblock-short'><p>Returns a user friendly mnemonic for the transaction type if the transaction is
for a known, white listed, transaction.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "transaction_builder";</script><script src="../aliases.js"></script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>